schema: '2.0'
stages:
  load_data:
    cmd: python src/stage_01_load_save.py --config=config/config.yaml
    deps:
    - path: src/stage_01_load_save.py
      md5: c92ed5fd67fabc0e6b742e8858869b6d
      size: 1097
    - path: src/utils/all_utils.py
      md5: a2fa59a5ba84d9f55a8d69dc5a5b3c4d
      size: 705
    outs:
    - path: artifacts/rawdata_local_dir/data.csv
      md5: 6a883fd98624e18c0b7ce251f4fab4fb
      size: 102551
  split_data:
    cmd: python src/stage_02_split_data.py --config=config/config.yaml --params=params.yaml
    deps:
    - path: artifacts/rawdata_local_dir/data.csv
      md5: 6a883fd98624e18c0b7ce251f4fab4fb
      size: 102551
    - path: src/stage_02_split_data.py
      md5: 500c9a690e84b4697c03c69895e40668
      size: 1783
    - path: src/utils/all_utils.py
      md5: a2fa59a5ba84d9f55a8d69dc5a5b3c4d
      size: 705
    params:
      params.yaml:
        base_params.random_state: 42
        base_params.test_size: 0.3
    outs:
    - path: artifacts/split_data_dir/test.csv
      md5: 82dbb29f6bacf8f8eacf612bad5fbd16
      size: 29014
    - path: artifacts/split_data_dir/train.csv
      md5: 3e905e4642cfd245ad8aaa2be09a9550
      size: 67755
  train:
    cmd: python src/stage_03_train.py --config=config/config.yaml --params=params.yaml
    deps:
    - path: artifacts/split_data_dir/train.csv
      md5: 3e905e4642cfd245ad8aaa2be09a9550
      size: 67755
    - path: src/stage_03_train.py
      md5: 30baf0dd55a7e26a4cfb33286111f517
      size: 1648
    - path: src/utils/all_utils.py
      md5: a2fa59a5ba84d9f55a8d69dc5a5b3c4d
      size: 705
    params:
      params.yaml:
        base_params.random_state: 42
        model_params.ElasticNet.alpha: 0.5
        model_params.ElasticNet.l1_ratio: 0.5
    outs:
    - path: artifacts/model_dir/ElasticNet.model
      md5: 26f0cc3a9aad30048b3bae7c73cf35e1
      size: 832
  evaluate:
    cmd: python src/stage_04_evaluate.py --config=config/config.yaml --params=params.yaml
    deps:
    - path: artifacts/model_dir/ElasticNet.model
      md5: 26f0cc3a9aad30048b3bae7c73cf35e1
      size: 832
    - path: artifacts/split_data_dir/test.csv
      md5: 82dbb29f6bacf8f8eacf612bad5fbd16
      size: 29014
    - path: src/stage_04_evaluate.py
      md5: fb93d7c576cbd7b73a2140fa6ac60c79
      size: 2144
    - path: src/utils/all_utils.py
      md5: a2fa59a5ba84d9f55a8d69dc5a5b3c4d
      size: 705
    outs:
    - path: artifacts/reports_dir/scores.json
      md5: fbf57bd962d7ecfce17a7f679f355c1f
      size: 100
